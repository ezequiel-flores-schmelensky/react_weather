(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,a){},203:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_CITY",function(){return N}),a.d(n,"SET_FORECAST_DATA",function(){return W}),a.d(n,"GET_WEATHER_CITY",function(){return A}),a.d(n,"SET_WEATHER_CITY",function(){return I}),a.d(n,"setSelectedCity",function(){return R}),a.d(n,"setWeather",function(){return z});var r,c=a(0),o=a.n(c),i=a(68),u=a.n(i),l=a(19),s=(a(87),a(16)),d=a(17),m=a(20),f=a(18),h=a(21),p=a(46),E=a.n(p),y=a(73),w=a.n(y),b=a(75),v=a.n(b),O=a(74),j=a.n(O),C=a(23),T=a(8),D=a(10),k=a.n(D),S=(a(95),a(70)),_=a.n(S),x=function(e){var t,a=e.main,n=a.humidity,r=a.temp,c=e.wind.speed,o=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"cloud"}(e.weather[0]);return{humidity:n,temperature:(t=r,Number(_()(t).from("K").to("C").toFixed(0))),weatherState:o,wind:"".concat(c," m/s")}},g=function(e){return e.list.filter(function(e){return 6===k.a.unix(e.dt).hour()||12===k.a.unix(e.dt).hour()||18===k.a.unix(e.dt).hour()}).map(function(e){return{weekDay:k.a.unix(e.dt).format("ddd"),hour:k.a.unix(e.dt).hour(),data:x(e)}})},N="SET_CITY",W="SET_FORECAST_DATA",A="GET_WEATHER_CITY",I="SET_WEATHER_CITY",L="f99bbd9e4959b513e9bd0d7f7356b38d",R=function(e){return function(t,a){var n="".concat("http://api.openweathermap.org/data/2.5/forecast","?q=").concat(e,"&appid=").concat(L);t(function(e){return{type:N,payload:e}}(e));var r=a(),c=r.cities[e]&&r.cities[e].forecastDataDate,o=new Date;if(!(c&&o-c<6e4))return fetch(n).then(function(e){return e.json()}).then(function(a){var n=g(a);console.log(n),t(function(e){return{type:W,payload:e}}({city:e,forecastData:n}))})}},z=function(e){return function(t){e.forEach(function(e){t({type:A,payload:e});var a="".concat("http://api.openweathermap.org/data/2.5/weather","?q=").concat(e,"&appid=").concat(L);fetch(a).then(function(e){return e.json()}).then(function(a){var n=x(a);t({type:I,payload:{city:e,weather:n}})})})}},Y=a(11),B=a(77),H=a(4),M=a(12),F=a(71),G=a.n(F),P=Object(Y.a)(function(e,t){return e[t]&&e[t].forecastData},function(e){return e}),q=Object(Y.a)(function(e){return t=e,G()(t).map(function(e){var t=Object(B.a)(e,2),a=t[0];return{key:a,name:a,data:t[1].weather}});var t},function(e){return e}),J=Object(T.c)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var a=t.payload,n=a.city,r=a.forecastData;return Object(M.a)({},e,Object(H.a)({},n,Object(M.a)({},e[n],{forecastData:r,forecastDataDate:new Date})));case A:var c=t.payload;return Object(M.a)({},e,Object(H.a)({},c,Object(M.a)({},e[c],{weather:null})));case I:var o=t.payload,i=o.city,u=o.weather;return Object(M.a)({},e,Object(H.a)({},i,Object(M.a)({},e[i],{weather:u})));default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;default:return e}}}),V=Object(Y.a)(function(e){return e.city},function(e){return e}),X=Object(Y.a)(function(e){return e.cities},V,P),K=Object(Y.a)(function(e){return e.cities},q),U=a(72),$=a.n(U),Q=(a(55),function(e){var t=e.city;return o.a.createElement("div",{className:"locationCont"},o.a.createElement("h1",null,t))}),Z=(a(41),function(e){var t=e.humidity,a=e.wind;return o.a.createElement("div",{className:"weatherExtraInfoCont"},o.a.createElement("span",{className:"extraInfoText"},"Humedad: ".concat(t," %")),o.a.createElement("span",{className:"extraInfoText"},"Vientos: ".concat(a)))}),ee=a(47),te=a.n(ee),ae=(r={},Object(H.a)(r,"cloud","cloud"),Object(H.a)(r,"sun","day-sunny"),Object(H.a)(r,"rain","rain"),Object(H.a)(r,"snow","snow"),Object(H.a)(r,"thunder","day-thunderstorm"),Object(H.a)(r,"drizzle","day-showers"),r),ne=function(e){var t=e.temperature,a=e.weatherState;return o.a.createElement("div",{className:"weatherTemperatureCont"},function(e){var t=ae[e];return t?o.a.createElement(te.a,{className:"wicon",name:t,size:"4x"}):o.a.createElement(te.a,{className:"wicon",name:"day-sunny",size:"4x"})}(a),o.a.createElement("span",{className:"temperature"},"".concat(t)),o.a.createElement("span",{className:"temperatureType"}," C\xb0"))},re=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,c=t.wind;return o.a.createElement("div",{className:"weatherDataCont"},o.a.createElement(ne,{temperature:a,weatherState:n}),o.a.createElement(Z,{humidity:r,wind:c}))},ce=function(e){var t=e.onWeatherLocationClick,a=e.city,n=e.data;return o.a.createElement("div",{className:"weatherLocationCont",onClick:t},o.a.createElement(Q,{city:a}),n?o.a.createElement(re,{data:n}):o.a.createElement($.a,{size:50}))},oe=(a(67),function(e){var t=e.cities,a=e.onSelectedLocation;console.log(t);return o.a.createElement("div",{className:"locationList"},function(e){return e.map(function(e){return o.a.createElement(ce,{key:e.key,city:e.name,onWeatherLocationClick:function(){return function(e){console.log("handleWeatherLocationClick"),a(e)}(e.name)},data:e.data})})}(t))}),ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSelectionLocation=function(e){a.props.setSelectedCity(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setSelectedCity,a=e.setWeather,n=e.cities,r=e.city;a(n),t(r)}},{key:"render",value:function(){return o.a.createElement(oe,{cities:this.props.citiesWeather,onSelectedLocation:this.handleSelectionLocation})}}]),t}(c.Component),ue=Object(l.b)(function(e){return{citiesWeather:K(e),city:V(e)}},function(e){return Object(T.b)(n,e)})(ie),le=function(e){var t=e.weekDay,a=e.hour,n=e.data;return o.a.createElement("div",null,o.a.createElement("h2",null,t," - ",a,"hs"),o.a.createElement(re,{data:n}))},se=function(e){var t=e.city,a=e.forecastData;return o.a.createElement("div",null,o.a.createElement("h2",{className:"forecast-title"},"Pron\xf3stico Extendido para ",t),a?function(e){return e.map(function(e){return o.a.createElement(le,{key:"".concat(e.weekDay).concat(e.hour),weekDay:e.weekDay,hour:e.hour,data:e.data})})}(a):o.a.createElement("h3",null,"Cargando Pronostico Extendido..."))},de=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.city,a=e.forecastData;return t&&o.a.createElement(se,{city:t,forecastData:a})}}]),t}(c.Component),me=Object(l.b)(function(e){return{city:V(e),forecastData:X(e)}},null)(de),fe=(a(197),["Buenos Aires,ar","Washington,us","Bogota,col","Ciudad de M\xe9xico,mx","Madrid,es","Lima,pe"]),he=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(C.Grid,null,o.a.createElement(C.Row,null,o.a.createElement(w.a,{position:"sticky"},o.a.createElement(j.a,null,o.a.createElement(v.a,{variant:"title",color:"inherit"},"Weather App")))),o.a.createElement(C.Row,null,o.a.createElement(C.Col,{xs:12,md:6},o.a.createElement(ue,{cities:fe})),o.a.createElement(C.Col,{xs:12,md:6},o.a.createElement(E.a,{elevation:4},o.a.createElement("div",{className:"details"},o.a.createElement(me,null))))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(76),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,ye=Object(T.e)(J,{city:"Buenos Aires,ar"},Ee(Object(T.a)(pe.a)));u.a.render(o.a.createElement(l.a,{store:ye},o.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},41:function(e,t,a){},55:function(e,t,a){},67:function(e,t,a){},78:function(e,t,a){e.exports=a(203)},87:function(e,t,a){}},[[78,2,1]]]);
//# sourceMappingURL=main.9d9dd35c.chunk.js.map